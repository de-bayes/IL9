<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="IL9Cast - The Model">
    <title>The Model - IL9Cast</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='landing-style.css') }}">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WVTWQBBG8S"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-WVTWQBBG8S');
    </script>
</head>
<script>
    (function() {
        var t = localStorage.getItem('il9-theme');
        if (t === 'dark') document.documentElement.setAttribute('data-theme', 'dark');
    })();
</script>
<body>
    <div class="site-content">
        <header>
            <a href="/" class="logo">IL9<span>Cast</span></a>
            <nav class="desktop-nav">
                <a href="/markets">Markets</a>
                <a href="/candidates">Candidates</a>
                <a href="/fundraising">Fundraising</a>
                <a href="/odds" class="active">Model</a>
                <a href="/updates">Updates</a>
                <a href="/methodology">Methodology</a>
                <a href="/about">About</a>
            </nav>
            <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
                <svg class="icon-moon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                <svg class="icon-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </button>
            <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="mobile-nav" id="mobileNav">
                <a href="/markets">Markets</a>
                <a href="/candidates">Candidates</a>
                <a href="/fundraising">Fundraising</a>
                <a href="/odds" class="active">Model</a>
                <a href="/updates">Updates</a>
                <a href="/methodology">Methodology</a>
                <a href="/about">About</a>
            </nav>
        </header>

        <section class="hero">
            <h1>The Model</h1>
        </section>

        <section class="model-content-page">
            <article class="model-statement-section">
                <h2 class="model-status-heading">Model In Progress</h2>
                <p class="model-statement">We are actively building a statistical forecasting model for the IL-9 Democratic primary. Due to the limited polling data and unique dynamics of this race, developing a reliable model takes time. Check back for updates as the model takes shape.</p>
                <p class="model-statement" style="margin-top: 1rem;">In the meantime, visit the <a href="/markets" style="color: var(--accent-blue); text-decoration: underline;">Markets page</a> for real-time prediction market aggregation.</p>
            </article>

            <!-- Methodology Section -->
            <section class="methodology-section-model">
                <div class="methodology-header" onclick="toggleMethodology()">
                    <h2 style="margin: 0;">Methodology</h2>
                    <span class="toggle-icon" id="methodologyToggle">&#9660;</span>
                </div>
                <div class="methodology-content hidden" id="methodologyContent">
                    <div class="methodology-explanation">
                        <h3>The Challenge of Modeling IL-9</h3>
                        <p>
                            Building a statistical forecasting model for the Illinois 9th District Democratic Primary presents unique challenges. Unlike highly competitive general elections, this race lacks the robust polling infrastructure and historical precedents that traditional models rely on.
                        </p>

                        <h3>Data Availability Issues</h3>
                        <ul class="method-list">
                            <li>Only 4 district-level polls exist, and most are outdated or candidate-commissioned (internal polls)</li>
                            <li>Limited historical data on similar open-seat Democratic primaries in this district</li>
                            <li>Sparse demographic turnout models for primary elections vs. general elections</li>
                            <li>Candidate-specific metrics (endorsements, fundraising) updated infrequently</li>
                        </ul>

                        <h3>Model Development in Progress</h3>
                        <p>
                            The forecasting model is currently under development. Potential data sources being evaluated include:
                        </p>
                        <ul class="method-list">
                            <li>FEC fundraising reports (total raised, cash on hand, donor counts, burn rate)</li>
                            <li>Endorsement scores weighted by endorser influence and district relevance</li>
                            <li>Social media engagement metrics as proxies for grassroots support</li>
                            <li>Prior electoral performance in overlapping districts (where applicable)</li>
                            <li>Prediction market probabilities as an input signal (with appropriate weighting)</li>
                        </ul>

                        <h3>Why This Is Difficult</h3>
                        <p>
                            Traditional political forecasting models (like FiveThirtyEight's election models) combine polls, fundamentals, and historical trends. For IL-9, these inputs are thin:
                        </p>
                        <ul class="method-list">
                            <li><strong>Limited Polls:</strong> Only 4 polls exist for this race, and many are outdated or were commissioned by the candidates themselves, making them unreliable as independent data points</li>
                            <li><strong>No Incumbent:</strong> With Jan Schakowsky retiring, there's no baseline approval rating or incumbency advantage to model</li>
                            <li><strong>Uncertain Turnout:</strong> Primary turnout models are harder to calibrate than general election models</li>
                        </ul>

                        <div class="methodology-note">
                            <strong>Status:</strong> The model is actively being developed. In the meantime, refer to the <a href="/markets">Markets page</a> for real-time prediction market aggregation, which reflects the collective wisdom of traders putting real money on the line.
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <footer class="site-footer">
            <hr class="footer-rule">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Navigate</h4>
                    <ul>
                        <li><a href="/markets">Markets</a></li>
                        <li><a href="/candidates">Candidates</a></li>
                        <li><a href="/fundraising">Fundraising</a></li>
                        <li><a href="/methodology">Methodology</a></li>
                        <li><a href="/about">About</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="/api/download/snapshots">Download Data</a></li>
                        <li><a href="https://github.com/de-bayes/IL9" target="_blank" rel="noopener noreferrer">GitHub</a></li>
                        <li><a href="https://buy.stripe.com/4gMdR98o72FP77e7jX1sQ00" target="_blank" rel="noopener noreferrer">Support This Project</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Disclaimer</h4>
                    <p>Prediction markets involve risk. Past performance does not guarantee future results. This platform aggregates public market data for informational purposes only.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <span>&copy; 2026 IL9Cast. Built with open data.</span>
                <a href="https://buy.stripe.com/4gMdR98o72FP77e7jX1sQ00" target="_blank" rel="noopener noreferrer" class="footer-support-link">Support This Project</a>
            </div>
        </footer>
        <div class="flag-footer-image">
            <img src="{{ url_for('static', filename='flag-footer.png') }}" alt="Illinois Flag Footer">
        </div>
    </div>

    <style>
        .model-content-page {
            max-width: 900px;
            margin: 0 auto 4rem;
            padding: 0 2rem;
        }

        .model-statement-section {
            background: var(--bg-surface);
            border: 1px solid var(--border-default);
            padding: 3rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .model-status-heading {
            font-family: var(--serif);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0 0 1rem;
        }

        .model-statement {
            font-family: var(--sans);
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-secondary);
            font-weight: 400;
            margin: 0;
            max-width: 560px;
            margin-left: auto;
            margin-right: auto;
        }

        .methodology-section-model {
            background: var(--bg-surface);
            border: 1px solid var(--border-default);
            padding: 0;
            margin-bottom: 2rem;
        }

        .methodology-header {
            padding: 2rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .methodology-header:hover {
            background: var(--bg-elevated, rgba(0,0,0,0.03));
        }

        .methodology-header h2 {
            font-family: var(--serif);
            font-size: 2rem;
            color: var(--accent-blue);
        }

        .toggle-icon {
            font-size: 1.5rem;
            color: var(--accent-blue);
            transition: transform 0.3s ease;
        }

        .methodology-content {
            padding: 0 2rem 2rem;
            max-height: 2000px;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.3s ease;
        }

        .methodology-content.hidden {
            max-height: 0;
            padding: 0 2rem;
        }

        .methodology-explanation {
            line-height: 1.8;
        }

        .methodology-explanation h3 {
            font-family: var(--serif);
            font-size: 1.4rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: var(--accent-blue);
        }

        .methodology-explanation h3:first-child {
            margin-top: 0;
        }

        .methodology-explanation p {
            font-family: var(--sans);
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        .method-list {
            list-style: none;
            padding-left: 0;
            margin: 1rem 0;
        }

        .method-list li {
            font-family: var(--sans);
            margin-bottom: 0.8rem;
            padding-left: 1.5rem;
            position: relative;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .method-list li:before {
            content: "\2192";
            position: absolute;
            left: 0;
            color: var(--accent-gold);
        }

        .methodology-note {
            background: var(--bg-elevated, rgba(0,0,0,0.03));
            border-left: 3px solid var(--accent-gold);
            padding: 1rem 1.5rem;
            margin-top: 2rem;
            border-radius: 4px;
            font-family: var(--sans);
            color: var(--text-secondary);
        }

        .methodology-note a {
            color: var(--accent-blue);
            text-decoration: underline;
        }

        @media (max-width: 600px) {
            .model-content-page { padding: 0 1.25rem; }
            .model-statement-section { padding: 1.75rem 1.25rem; }
            .methodology-header h2 { font-size: 1.3rem; }
        }
    </style>

    <script>
        function toggleTheme() {
            var isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            if (isDark) {
                document.documentElement.removeAttribute('data-theme');
                localStorage.setItem('il9-theme', 'light');
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('il9-theme', 'dark');
            }
        }

        function toggleMethodology() {
            const content = document.getElementById('methodologyContent');
            const icon = document.getElementById('methodologyToggle');
            content.classList.toggle('hidden');
            icon.textContent = content.classList.contains('hidden') ? '\u25BC' : '\u25B2';
        }

        function toggleMobileMenu() {
            const hamburger = document.getElementById('hamburger');
            const mobileNav = document.getElementById('mobileNav');
            hamburger.classList.toggle('active');
            mobileNav.classList.toggle('active');
        }

        document.querySelectorAll('#mobileNav a').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('hamburger').classList.remove('active');
                document.getElementById('mobileNav').classList.remove('active');
            });
        });

        document.addEventListener('click', (e) => {
            const hamburger = document.getElementById('hamburger');
            const mobileNav = document.getElementById('mobileNav');
            if (!hamburger.contains(e.target) && !mobileNav.contains(e.target)) {
                hamburger.classList.remove('active');
                mobileNav.classList.remove('active');
            }
        });
    </script>
</body>
</html>
